<!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->

{% capture result_elem %}
<div class="px-1 px-sm-2 px-lg-4 px-xl-0">
  <a href="{url}">{title}</a>
  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">
    {categories}
    {tags}
  </div>
  <p>{content}</p>
</div>
{% endcapture %}

{% capture not_found %}<p class="mt-5">{{ site.data.locales[include.lang].search.no_results }}</p>{% endcapture %}

<script src="{{ '/assets/js/search.js' | relative_url }}"></script>

<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  document.addEventListener("DOMContentLoaded", function () {
    initSearch(
      "{{ '/assets/js/data/search.json' | relative_url }}",
      '{{ result_elem | strip_newlines }}',
      '{{ not_found }}'
    );
  });
</script>
